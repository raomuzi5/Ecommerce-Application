<ng-container *ngIf="saveForm$ | async"></ng-container>
<section class="content ecommerce-page ec-checkout">
  <div class="container">
    <div class="row clearfix">
      <div class="col-12">
        <form (ngSubmit)="saveProduct()"   [formGroup]="productForm" novalidate >
          <div class="card">
            <div class="header">
              <h2><strong>Basic</strong> Information</h2>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-sm-6">
                  <div class="form-group">
                    <label>Product Name</label>
                    <input name="productName" type="text" class="form-control" formControlName="productName">
                    <div *ngIf="productForm.controls.productName?.errors?.required" class="text-danger">Product Name is required.</div>
                  </div>
                  <div class="form-group">
                    <label>Manufacturer Name</label>
                    <input name="manufacturerName" type="text" class="form-control" formControlName="manufacturerName">
                    <div *ngIf="productForm.controls.manufacturerName?.errors?.required" class="text-danger">Manufacturer Name is required.</div>
                  </div>
                  <div class="form-group">
                    <label>Manufacturer Brand</label>
                    <input name="manufacturerBrand" type="text" class="form-control" formControlName="manufacturerBrand" >
                    <div *ngIf="productForm.controls.manufacturerBrand?.errors?.required" class="text-danger">Manufacturer Brand is required.</div>
                  </div>
                  <div class="form-group">
                    <label>Price</label>
                    <input name="price" type="number" class="form-control" formControlName="price" >
                    <div *ngIf="productForm.controls.price?.errors?.required" class="text-danger">Price is required.</div>
                    <div *ngIf="productForm.controls.price?.errors?.min" class="text-danger">Price must be greater than 0.</div>
                  </div>
                  <div class="form-group">
                    <label>Quantity</label>
                    <input name="quantity" type="number" class="form-control" formControlName="quantity" required>
                    <div *ngIf="productForm.controls.quantity?.errors?.required" class="text-danger">Quantity is required.</div>
                    <div *ngIf="productForm.controls.quantity?.errors?.min" class="text-danger">Quantity must be greater than 0.</div>
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="form-group">
                    <label>Category</label>
                    <select name="category" class="form-control h-auto" formControlName="category" >
                      <option value="" disabled>Select Category</option>
                      <option>Accessories</option>
                      <option>Bag</option>
                      <option>Showpiece</option>
                    </select>
                    <div *ngIf="productForm.controls.category?.errors?.required" class="text-danger">Category is required.</div>
                  </div>
                  <div class="form-group">
                    <label>Features</label>
                    <select name="features" class="form-control h-auto" formControlName="features" >
                      <option value="" disabled>Select Features</option>
                      <option>Accessories</option>
                      <option>Bag</option>
                      <option>Showpiece</option>
                    </select>
                    <div *ngIf="productForm.controls.features?.errors?.required" class="text-danger">Features is required.</div>
                  </div>
                  <div class="form-group">
                    <label>Product Description</label>
                    <textarea name="description" rows="5" class="form-control" formControlName="description"></textarea>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="card">
            <div class="header">
              <h2><strong>Product Upload</strong> Drag & Drop OR With Click & Choose</h2>
            </div>
            <div class="body">
              <ngx-dropzone (change)="onFileSelect($event)">
                <ngx-dropzone-label>Drop files here or click to upload.</ngx-dropzone-label>
                <ngx-dropzone-preview *ngFor="let f of files" [removable]="true" (removed)="onRemove(f)">
                  <ngx-dropzone-label>{{ f.name }} ({{ f.type }})</ngx-dropzone-label>
                </ngx-dropzone-preview>
              </ngx-dropzone>
            </div>
          </div>
          <div class="card">
            <div class="header">
              <h2><strong>Meta</strong> Data</h2>
            </div>
            <div class="body">
              <div class="row">
                <div class="col-sm-6">
                  <div class="form-group">
                    <label>Meta title</label>
                    <input name="metaTitle" type="text" class="form-control" formControlName="metaTitle">
                  </div>
                  <div class="form-group">
                    <label>Meta Keywords</label>
                    <input name="metaKeywords" type="text" class="form-control" formControlName="metaKeywords">
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="form-group">
                    <label>Meta Description</label>
                    <textarea name="metaDescription" rows="5" class="form-control" formControlName="metaDescription"></textarea>
                  </div>
                </div>
              </div>
              <button type="submit" class="btn btn-primary mr-1" [disabled]="productForm.invalid">
                <span>Save Changes</span>
                <!-- <span><i class="fa fa-spinner fa-spin"></i>&nbsp;Saving...</span> -->
              </button>                            
              <button type="button" class="btn btn-secondary">Cancel</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>

